# This is the main configuration file for the application.
# https://www.playframework.com/documentation/latest/ConfigFile

db.default.driver=org.sqlite.JDBC
db.default.url="jdbc:sqlite:app/temp.db"
ebean.default = [ "models.*" ]

db.test.driver=org.sqlite.JDBC
db.test.url="jdbc:sqlite:test/test.db"
ebean.test = [ "models.*" ]


# Temporary fix to Bad Request while hosting the server on cmpt373-1177e.cmpt.sfu.ca
play.filters.enabled=[play.filters.hosts.AllowedHostsFilter]

play.filters.hosts {
  allowed=[".", "localhost:9000", "127.0.0.1:9000"]
}

play.http.filters = "auth.Filters"

# Evolutions
play.evolutions.db.default.autoApply = true
play.evolutions.db.test.autoApply = true



pac4j.security.rules = [
  # 'Catch all' rule to make sure the whole application stays secure.
  {"/" = {
    authorizers = "_authenticated_"
    clients = "CasClient"
  }}
]

play.modules.enabled += "auth.SecurityModule"