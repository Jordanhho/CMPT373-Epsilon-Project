# This is the main configuration file for the application.
# https://www.playframework.com/documentation/latest/ConfigFile

db.default.driver=org.sqlite.JDBC
db.default.url="jdbc:sqlite:app/temp.db"
ebean.default = [ "models.*" ]

db.test.driver=org.sqlite.JDBC
db.test.url="jdbc:sqlite:test/test.db"
ebean.test = [ "models.*" ]


# Temporary fix to Bad Request while hosting the server on cmpt373-1177e.cmpt.sfu.ca
play.filters.enabled=[play.filters.hosts.AllowedHostsFilter]

play.filters.hosts {
  allowed=[".", "localhost:9000", "127.0.0.1:9000"]
}

play.http.filters = "auth.Filters"

# Evolutions
play.evolutions.db.default.autoApply = true
play.evolutions.db.test.autoApply = true

# Configure Play-Mailer Plugin
play.mailer {
  host = "smtp.gmail.com" // (mandatory)
  port = 587 // (defaults to 25)
  ssl = no // (defaults to no)
  tls = yes // (defaults to no)
  tlsRequired = no // (defaults to no)
  user = ï»¿"joshredditbot@gmail.com" // (optional) TODO: Enter your own email
  password = "" // (optional) TODO: Enter your own password
  debug = no // (defaults to no, to take effect you also need to set the log level to "DEBUG" for the application logger)
  timeout = null // (defaults to 60s in milliseconds)
  connectiontimeout = null // (defaults to 60s in milliseconds)
  mock = no // (defaults to no, will only log all the email properties instead of sending an email)
}

pac4j.security.rules = [
  # 'Catch all' rule to make sure the whole application stays secure.
  {"/" = {
    authorizers = "_authenticated_"
    clients = "CasClient"
  }}
]

play.modules.enabled += "auth.SecurityModule"
play.modules.enabled += "email.MailerModule"

